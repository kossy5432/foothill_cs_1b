import java.util.Scanner;

public class Foothill
{
   public static void main(String[] args)
   {
      int rule, k;
      String strUserIn;
      
      Scanner inputStream = new Scanner(System.in);
      Automaton aut;

      // get rule from user
      do
      {
         System.out.print("Enter Rule (0 - 255): ");
         // get the answer in the form of a string:
         strUserIn = inputStream.nextLine();
         // and convert it to a number so we can compute:
         rule = Integer.parseInt(strUserIn);
      } while (rule < 0 || rule > 255);

      // create automaton with this rule and single central dot
      aut = new Automaton(rule);

      // now show it
      System.out.println("   start");
      for (k = 0; k < 100; k++)
      {
         System.out.println( aut.toStringCurrentGen() );
         aut.propagateNewGeneration();
      }
      System.out.println("   end");
      inputStream.close();
   }
}


class Automaton
{
   // class constants
   public final static int MAX_DISPLAY_WIDTH = 121;
   public final static int MAX_RULE = 255;
   public final static int MIN_RULE = 0;
   
   // private members
   private boolean rules[];  // allocate rule[8] in constructor!
   private String thisGen;   // same here
   private String extremeBit; // bit, "*" or " ", implied everywhere "outside"
   private int displayWidth;  // an odd number so it can be perfectly centered
   
   // public constructors, mutators, etc. (need to be written)
   public Automaton(int newRule)
   {
      rules = new boolean[8];
      if ( !setRule(newRule))
      {
         setRule(0);
      }
      resetFirstGen();
      setDisplayWidth(79);
   }
   
   //first set
   public void resetFirstGen()
   {
      extremeBit = " ";
      thisGen = "*";
   }
   
   //setRule mutatoers
   public boolean setRule(int newRule)
   {
      int temp, k, result;
      if (newRule < 0 || newRule > 255)
      {
         return false;
      }
      for (k = 0; k < 8; k++)
      {
         temp = 1 << k;
         result = temp & newRule;
         if ( result != 0 )
         {
            rules[k] = true;
         }
         else
         {
            rules[k] = false;
         }

      }
      return true; 
   }

   public boolean setDisplayWidth(int width)
   {
      if (width > MAX_DISPLAY_WIDTH || width < 1)
      {
         return false;
      }
      else
      {
         if ((width % 2) == 0 )
         {
            return false;
         }
      }
      displayWidth = width;
      return true;
   }
   
   public String toStringCurrentGen()
   {
      int vacant = (displayWidth - thisGen.length()) / 2;
      int side;
      String resultString = "";
      
      if ((vacant * 2) >= 0)
      {
         for (int j = 0; j < vacant; j++)
         {
            resultString = resultString + extremeBit;
         }
         resultString = resultString + thisGen;
         for (int j = 0; j < vacant; j++)
         {
            resultString = resultString + extremeBit;
         }
      }
      else
      {
         side = -vacant;
         for (int j = 0; j < displayWidth; j++)
         {
            resultString = resultString + thisGen.charAt(side + j);
         }
      }
      return resultString;
   }
   
   public void propagateNewGeneration()
   {
      String nextGen = "";
      thisGen = extremeBit + extremeBit + thisGen + extremeBit + extremeBit;
      
      for (int a = 1; a < thisGen.length() - 1; a++)
      {
         int temp = 0;
         int sumNegative = 4;
         int sumEqual = 2;
         int sumPositive = 1;
         if (thisGen.charAt(a - 1) == '*')
         {
            temp = temp + sumNegative;
         }
         if (thisGen.charAt(a) == '*')
         {
            temp = temp + sumEqual;
         }
         if (thisGen.charAt(a +1) == '*')
         {
            temp = temp + sumPositive;
         }
         
         nextGen += rules[temp] ? "*" : " ";
      }
      
      boolean extremeBitFirst;
      
      if (extremeBit == " ")
      {
         extremeBitFirst = rules[0];
      }
      else
      {
         extremeBitFirst = rules[7];
      }
      
      extremeBit = extremeBitFirst ? "*" : " ";
      thisGen = nextGen;
   }
}



/* ------------ Paste of run from console window --------------

------------Rule  4 ------------
Enter Rule (0 - 255): 4
   start
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
                                       *                                       
   end

------------Rule 129------------
Enter Rule (0 - 255): 129
   start
                                       *                                       
**************************************   **************************************
*************************************  *  *************************************
************************************       ************************************
***********************************  *****  ***********************************
**********************************    ***    **********************************
*********************************  **  *  **  *********************************
********************************               ********************************
*******************************  *************  *******************************
******************************    ***********    ******************************
*****************************  **  *********  **  *****************************
****************************        *******        ****************************
***************************  ******  *****  ******  ***************************
**************************    ****    ***    ****    **************************
*************************  **  **  **  *  **  **  **  *************************
************************                               ************************
***********************  *****************************  ***********************
**********************    ***************************    **********************
*********************  **  *************************  **  *********************
********************        ***********************        ********************
*******************  ******  *********************  ******  *******************
******************    ****    *******************    ****    ******************
*****************  **  **  **  *****************  **  **  **  *****************
****************                ***************                ****************
***************  **************  *************  **************  ***************
**************    ************    ***********    ************    **************
*************  **  **********  **  *********  **  **********  **  *************
************        ********        *******        ********        ************
***********  ******  ******  ******  *****  ******  ******  ******  ***********
**********    ****    ****    ****    ***    ****    ****    ****    **********
*********  **  **  **  **  **  **  **  *  **  **  **  **  **  **  **  *********
********                                                               ********
*******  *************************************************************  *******
******    ***********************************************************    ******
*****  **  *********************************************************  **  *****
****        *******************************************************        ****
***  ******  *****************************************************  ******  ***
**    ****    ***************************************************    ****    **
*  **  **  **  *************************************************  **  **  **  *
                ***********************************************                
 **************  *********************************************  ************** 
  ************    *******************************************    ************  
*  **********  **  *****************************************  **  **********  *
    ********        ***************************************        ********    
***  ******  ******  *************************************  ******  ******  ***
**    ****    ****    ***********************************    ****    ****    **
*  **  **  **  **  **  *********************************  **  **  **  **  **  *
                        *******************************                        
***********************  *****************************  ***********************
**********************    ***************************    **********************
*********************  **  *************************  **  *********************
********************        ***********************        ********************
*******************  ******  *********************  ******  *******************
******************    ****    *******************    ****    ******************
*****************  **  **  **  *****************  **  **  **  *****************
****************                ***************                ****************
 **************  **************  *************  **************  ************** 
  ************    ************    ***********    ************    ************  
*  **********  **  **********  **  *********  **  **********  **  **********  *
    ********        ********        *******        ********        ********    
***  ******  ******  ******  ******  *****  ******  ******  ******  ******  ***
**    ****    ****    ****    ****    ***    ****    ****    ****    ****    **
*  **  **  **  **  **  **  **  **  **  *  **  **  **  **  **  **  **  **  **  *
                                                                               
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
*******************************************************************************
 ***************************************************************************** 
  ***************************************************************************  
*  *************************************************************************  *
    ***********************************************************************    
***  *********************************************************************  ***
**    *******************************************************************    **
*  **  *****************************************************************  **  *
        ***************************************************************        
*******  *************************************************************  *******
******    ***********************************************************    ******
*****  **  *********************************************************  **  *****
****        *******************************************************        ****
   end

------------Rule 150------------
Enter Rule (0 - 255): 150
   start
                                       *                                       
                                      ***                                      
                                     * * *                                     
                                    ** * **                                    
                                   *   *   *                                   
                                  *** *** ***                                  
                                 * *   *   * *                                 
                                ** ** *** ** **                                
                               *       *       *                               
                              ***     ***     ***                              
                             * * *   * * *   * * *                             
                            ** * ** ** * ** ** * **                            
                           *   *       *       *   *                           
                          *** ***     ***     *** ***                          
                         * *   * *   * * *   * *   * *                         
                        ** ** ** ** ** * ** ** ** ** **                        
                       *               *               *                       
                      ***             ***             ***                      
                     * * *           * * *           * * *                     
                    ** * **         ** * **         ** * **                    
                   *   *   *       *   *   *       *   *   *                   
                  *** *** ***     *** *** ***     *** *** ***                  
                 * *   *   * *   * *   *   * *   * *   *   * *                 
                ** ** *** ** ** ** ** *** ** ** ** ** *** ** **                
               *       *               *               *       *               
              ***     ***             ***             ***     ***              
             * * *   * * *           * * *           * * *   * * *             
            ** * ** ** * **         ** * **         ** * ** ** * **            
           *   *       *   *       *   *   *       *   *       *   *           
          *** ***     *** ***     *** *** ***     *** ***     *** ***          
         * *   * *   * *   * *   * *   *   * *   * *   * *   * *   * *         
        ** ** ** ** ** ** ** ** ** ** *** ** ** ** ** ** ** ** ** ** **        
       *                               *                               *       
      ***                             ***                             ***      
     * * *                           * * *                           * * *     
    ** * **                         ** * **                         ** * **    
   *   *   *                       *   *   *                       *   *   *   
  *** *** ***                     *** *** ***                     *** *** ***  
 * *   *   * *                   * *   *   * *                   * *   *   * * 
** ** *** ** **                 ** ** *** ** **                 ** ** *** ** **
       *       *               *       *       *               *       *       
*     ***     ***             ***     ***     ***             ***     ***     *
 *   * * *   * * *           * * *   * * *   * * *           * * *   * * *   * 
 ** ** * ** ** * **         ** * ** ** * ** ** * **         ** * ** ** * ** ** 
       *       *   *       *   *       *       *   *       *   *       *       
*     ***     *** ***     *** ***     ***     *** ***     *** ***     ***     *
 *   * * *   * *   * *   * *   * *   * * *   * *   * *   * *   * *   * * *   * 
 ** ** * ** ** ** ** ** ** ** ** ** ** * ** ** ** ** ** ** ** ** ** ** * ** ** 
       *                               *                               *       
      ***                             ***                             ***      
     * * *                           * * *                           * * *     
    ** * **                         ** * **                         ** * **    
   *   *   *                       *   *   *                       *   *   *   
  *** *** ***                     *** *** ***                     *** *** ***  
 * *   *   * *                   * *   *   * *                   * *   *   * * 
** ** *** ** **                 ** ** *** ** **                 ** ** *** ** **
       *       *               *       *       *               *       *       
      ***     ***             ***     ***     ***             ***     ***      
     * * *   * * *           * * *   * * *   * * *           * * *   * * *     
    ** * ** ** * **         ** * ** ** * ** ** * **         ** * ** ** * **    
   *   *       *   *       *   *       *       *   *       *   *       *   *   
  *** ***     *** ***     *** ***     ***     *** ***     *** ***     *** ***  
 * *   * *   * *   * *   * *   * *   * * *   * *   * *   * *   * *   * *   * * 
** ** ** ** ** ** ** ** ** ** ** ** ** * ** ** ** ** ** ** ** ** ** ** ** ** **
                                       *                                       
                                      ***                                      
                                     * * *                                     
                                    ** * **                                    
                                   *   *   *                                   
                                  *** *** ***                                  
                                 * *   *   * *                                 
                                ** ** *** ** **                                
                               *       *       *                               
                              ***     ***     ***                              
                             * * *   * * *   * * *                             
                            ** * ** ** * ** ** * **                            
                           *   *       *       *   *                           
                          *** ***     ***     *** ***                          
                         * *   * *   * * *   * *   * *                         
                        ** ** ** ** ** * ** ** ** ** **                        
                       *               *               *                       
                      ***             ***             ***                      
                     * * *           * * *           * * *                     
                    ** * **         ** * **         ** * **                    
                   *   *   *       *   *   *       *   *   *                   
                  *** *** ***     *** *** ***     *** *** ***                  
                 * *   *   * *   * *   *   * *   * *   *   * *                 
                ** ** *** ** ** ** ** *** ** ** ** ** *** ** **                
               *       *               *               *       *               
*             ***     ***             ***             ***     ***             *
 *           * * *   * * *           * * *           * * *   * * *           * 
 **         ** * ** ** * **         ** * **         ** * ** ** * **         ** 
   *       *   *       *   *       *   *   *       *   *       *   *       *   
* ***     *** ***     *** ***     *** *** ***     *** ***     *** ***     *** *
   * *   * *   * *   * *   * *   * *   *   * *   * *   * *   * *   * *   * *   
* ** ** ** ** ** ** ** ** ** ** ** ** *** ** ** ** ** ** ** ** ** ** ** ** ** *
                                       *                                       
                                      ***                                      
                                     * * *                                     
                                    ** * **                                    
   end

-------------------------------------------------------------- */